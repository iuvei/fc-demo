#第4章 &nbsp;&nbsp; 表单与文件
- <a href="#no1">4.1 新增元素与属性</a>
- <a href="#no2">4.2 表单验证</a>
- <a href="#no3">4.3 增强的页面元素</a>
- <a href="#no4">4.4 文件API</a>
- <a href="#no5">4.5 拖放API</a>


##<a name="no1">4.1 新增元素与属性</a>

###4.1.1 新增属性

 1. `form` 属性 ： 在HTML4中，表单内的从属元素必须书写在表单内部，但是在HTML5中，可以把它们书写在页面上任何地方，然后给该元素指定一个`form`属性，属性值为该表单的id，这样就可以声明该元素从属于指定表单了。 

 2. `formaction` 属性 ： 在HTML4中，一个表单内的所有元素都只能通过表单的`action`属性统一提交到另一个页面，而在HTML5中可以给所有的提交按钮都增加不同的`formaction`属性，使得点击不同的按钮，可以将表单提交到不同的页面。
 3. `formmethod` 属性 ： 在HTML4中，一个表单内只有一个 action　属性来对表单内所有元素统一指定提交页面，所以每个表单内也只有一个 method 属性来指统一指定提交方法。在HTML5中，可以使用 `formaction` 属性来对每个表单元素分别指定不同的提交页面，同时也可以使用 `formmethod`属性来对每个表单元素分别指定不同的提交方法。
 4. `placeholder` 属性 ： `placeholder`是指当文本框（`<input type="text">` 或 `<textarea>`）处于为输入状态时文本框中显示的输入提示。
 5. `autofocus` 属性 ： 给文本框、选择框或按钮空间加上该属性，当画面打开时，该控件自动获得光标焦点。**一个页面上只能有一个控件具有该属性。**
 6. `list` 属性 ： 在HTML5中，为单行文本框（`<input type="text">`）增加了一个 list 属性，该属性的值为某个 `datalist`元素的 id.`datalist`元素也是HTML5中新增元素，该元素类似于选择框（`select`），但是当用户想要设定的值不再选择列表之内时，允许其自行输入。元素本身并不显示，而是当文本框获得焦点时以提示输入的方式显示。
 7. `autocomplete` 属性 ： 辅助输入所用的自动完成功能，是一个节省输入时间，同时也十分方便的功能。


###4.1.2 大幅度地增加与改良了input元素的种类

 1. `search` ： 与 text 文本框类似，但是它用于搜索，比如站点搜索或Google 搜索。
 2. `tel` ： 与 text 文本框类似，但是专用于电话。
 3. `url` ： 与 text 文本框类似，但是要求用户必须在其中正确输入url格式的文字。
 4. `email` : 与 text 文本框类似，但是要求用户必须在其中正确输入email 格式的文字。
 5. `datetime、date、month、week、time、datetime-local` : 各种日期与时间输入文本框。
 6. `number` : 数值输入文本框。外观与 text 文本框相同，但不能输入数值以外的文字。
 7. `range` : 只允许输入一段范围内数字的文本框。具有min 属性与 max 属性，可以设定最小值与最大值（默认为0与100）。
 8. `color` ： 颜色选择文本框。选择的值为`"#000000"`格式的文字。
 9. `file` : 文件选择文本框。与HTML4最大的不同时，可以通过指定`multiple`属性，一次选择多个文件。`value`属性的值为用逗号分割的一个或多个文件名。同时，通过把 `MIME`类型指定给`accept`属性，可以限制选择文件的种类。

###4.1.3 对新的表单元素使用样式
> HTML5中新增的表单元素样式修改基本与其他元素一样。

###4.1.4 output 元素的追加
> 在HTML5中，追加了新的元素`output`。`output`元素定义不同类型的输出。

##<a name="no2">4.2 表单验证</a>

###4.2.1 自动验证
> 在HTML5中，通过对元素使用属性的方法，可以实现在表单提交时执行自动验证的功能。


 1. `required`属性 ： HTML5中新增的`required`属性可以应用在大多数输入元素上（除了隐藏元素、图片元素按钮上）。在提交时，如果元素中内容为空白，则不允许提交，同时在浏览器中显示信息提示文字，提示用户这个元素中必须输入内容。
 2. `pattern`属性 ： 对Input元素使用`pattern`属性，并且将属性值设置为某个格式的正则表达式，在提交时会检查其内容是否符合给定格式。当输入的内容不符合给定格式时，则不允许提交，同时在浏览器中显示信息提示文字，提示输入的内容必须符合给定格式。
 3. `min`属性与`max`属性 ： 这两个是数值范围或日期类型的input元素的专用属性，它们限制了在input元素中输入的数值与日期的范围。
 4. `step`属性 ： `step`属性控制`input`元素中的值增加或减少时的步幅。

###4.2.2 显示验证

> 除了对input元素添加属性进行元素内容有效性的自动验证外，在HTML5中，form元素与Input元素都具有一个`checkValidity`方法。可以显示的对表单内所有元素内容或耽搁内容进行有效性验证。返回`boolean`结果。


###4.2.3 取消验证

 1. 利用`form`元素的`novalidate`属性，它可以关闭整个表单验证。
 2. 利用`input`元素或`submit`元素的`formnovalidate`属性，利用`input`元素的`formnovalidate`属性可以让表单验证对单个`input`元素失效。 

###4.2.4 自定义错误信息

> 在HTML5中，可以使用JavaScript调用各input元素的`setCustomValidity`方法来自定义错误信息。



##<a name="no3">4.3 增强的页面元素</a>

###4.3.1 新增的`figure`元素与`figcaption`元素

###4.3.2 新增的`details`元素

###4.3.3 新增的`mark`元素

###4.3.4 新增的`progress`元素

###4.3.5 新增的`meter`元素

###4.3.6 新增的`menu`元素与`command`元素

###4.3.7 改良的`ol`列表

###4.3.8 改良的`dl`列表

###4.3.9 加以严格限制的`cite`元素

###4.3.10 重新定义的`small`元素




##<a name="no4">4.4 文件API</a>

###4.4.1 `FileList`对象与`file`对象
> 在HTML5中，通过添加`multiple`属性，`file`控件内允许一次放置多个文件。控件内的每一个用户选择的文件都是一个`file`对象，而`FileList`对象则为这些`file`对象的列表，代表用户选择的所有文件。

	<!DOCTYPE html>
	<html lang="en">
	<head>
	  <meta charset="UTF-8">
	  <title>FileList与file示例</title>
	</head>
	<body>
	  <script>
	    function ShowFileName(){
	      var file;
	      // document.getElementById('file').files 返回FileList文件列表对象
	      for (var i = 0; i < document.getElementById('file').files.length; i++) {
	        // file 对象为用户选择的单个文件
	        file = document.getElementById('file').files[i];
	        console.log(file.name);
	      };
	    }
	  </script>
	
	  选择文件：
	  <input type="file" id="file" multiple size="80" />
	  <input type="button" value="文件上传" onclick="ShowFileName();">
	</body>
	</html>

###4.4.2 `Blob`对象
> `Blob`标识二进制原始数据，它提供一个`slice`方法，可以通过该方法访问到字节内部的原始数据块。

**`Blob`**对象有两个属性：

 1. `size`属性表示一个`Blob`对象的字节长度。
 2. `type`属性表示`Blob`的`MIME`类型，如果是未知类型，则返回一个空字符串。

###4.4.3 `FileReader`接口
> `FileReader`接口主要用来把文件读入内存，并且读取文件中的数据。



##<a name="no5">4.5 拖放API</a>

###4.5.1 实现拖放的步骤

 1. 将想要拖放的对象元素的`draggable`属性设置为`true`（`draggable="true"`）。这样才能将该元素进行拖放。另外，`img`元素与`a`元素（必须指定`href`）默认允许拖放。
 2. 编写与拖放有关的事件处理代码。

**拖放事件**

|    事件     | 产生事件的元素           | 描述  |
|----------- |:-------------:| -----:|
|`dragstart` | 被拖放的元素 | 开始拖放操作 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

- `dragstart` : 
- ``
- ``
- ``
- ``
- ``
- ``
- ``